/* ===============================
   CYBERAID LIGHT & DARK MODE THEME
   =============================== */
* { margin: 0; padding: 0; box-sizing: border-box; }

html, body {
  height: 100%;
  font-family: "Poppins", system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  transition: background 0.4s ease, color 0.4s ease;
}

/* -------------------------------
   LIGHT THEME VARIABLES
   ------------------------------- */
:root{
  --bg: linear-gradient(135deg,#e0f2fe,#f8fafc);
  --text:#0f172a;
  --sidebar:#fff;
  --card:#f1f5f9;
  --border:#cbd5e1;
  --muted:#64748b;
  --accent:linear-gradient(135deg,#2563eb,#9333ea);
  --accent-solid:#2563eb;
  --header-bg:rgba(255,255,255,.8);
  --hover-bg:linear-gradient(135deg,rgba(37,99,235,.1),rgba(147,51,234,.1));
  --active-bg:linear-gradient(135deg,rgba(37,99,235,.2),rgba(147,51,234,.2));
  --shadow:rgba(0,0,0,.05);
  --shadow-hover:rgba(0,0,0,.15);
  --button-hover:rgba(0,0,0,.05);
  --iframe-bg:#f8fafc;
}

/* -------------------------------
   DARK THEME VARIABLES
   ------------------------------- */
[data-theme="dark"]{
  --bg:linear-gradient(135deg,#0f172a,#1e293b);
  --text:#f1f5f9;
  --sidebar:#1e293b;
  --card:#334155;
  --border:#475569;
  --muted:#94a3b8;
  --accent:linear-gradient(135deg,#3b82f6,#a855f7);
  --accent-solid:#3b82f6;
  --header-bg:rgba(30,41,59,.8);
  --hover-bg:linear-gradient(135deg,rgba(59,130,246,.15),rgba(168,85,247,.15));
  --active-bg:linear-gradient(135deg,rgba(59,130,246,.25),rgba(168,85,247,.25));
  --shadow:rgba(0,0,0,.3);
  --shadow-hover:rgba(0,0,0,.5);
  --button-hover:rgba(255,255,255,.1);
  --iframe-bg:#1e293b;
}

/* -------------------------------
   DASHBOARD LAYOUT
   ------------------------------- */
.dashboard{ display:flex; min-height:100vh; overflow:hidden; }

/* SIDEBAR */
.sidebar{
  background:var(--sidebar);
  border-right:1px solid var(--border);
  width:260px;
  transition:width .3s ease, transform .3s ease;
  display:flex; flex-direction:column;
  position:fixed; height:100%; z-index:200;
  box-shadow:2px 0 10px var(--shadow);
}
.sidebar.closed{ width:80px; }

/* LOGO */
.logo{ display:flex; align-items:center; gap:.8rem; padding:1.2rem 1rem; border-bottom:1px solid var(--border); }
.logo-icon{ width:44px; height:44px; border-radius:12px; background:var(--accent); display:flex; align-items:center; justify-content:center; box-shadow:0 0 12px rgba(59,130,246,.4); }
.logo h1{ font-size:1.1rem; font-weight:700; background:var(--accent); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; }
.logo p{ font-size:.75rem; color:var(--muted); }

/* NAV */
.nav{ flex:1; padding:1rem; display:flex; flex-direction:column; gap:.6rem; }
.nav-btn{
  display:flex; align-items:center; gap:.8rem;
  padding:.7rem .8rem; border-radius:10px;
  color:var(--muted); font-weight:500; background:transparent;
  cursor:pointer; transition:all .3s ease;
}
.nav-btn:hover{ background:var(--hover-bg); color:var(--accent-solid); }
.nav-btn.active{ background:var(--active-bg); color:var(--accent-solid); font-weight:600; }

/* TOGGLE */
.sidebar-toggle{ padding:1rem; border-top:1px solid var(--border); }
.sidebar-toggle button{
  width:100%; padding:.5rem; border:none; background:transparent;
  color:var(--text); cursor:pointer; border-radius:8px;
}
.sidebar-toggle button:hover{ background:var(--button-hover); }

/* MAIN */
.main{
  flex:1; width:calc(100% - 260px); margin-left:260px;
  display:flex; flex-direction:column;
  transition:margin-left .3s ease, width .3s ease;
  background:var(--bg); overflow-x:hidden;
}
.sidebar.closed ~ .main{ margin-left:80px; width:calc(100% - 80px); }

/* HEADER */
.header{
  background:var(--header-bg); backdrop-filter:blur(10px);
  border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  padding:.8rem 1rem; position:sticky; top:0; z-index:250;
}
.header-left,.header-right{ display:flex; align-items:center; gap:.8rem; }
.menu-btn,.header-right button{ padding:.4rem .5rem; border-radius:8px; background:transparent; color:var(--text); border:none; cursor:pointer; }
.menu-btn:hover,.header-right button:hover{ background:var(--button-hover); }
.dot{ position:absolute; top:2px; right:2px; width:7px; height:7px; border-radius:50%; background:#ef4444; }

/* CONTENT (tightened) */
.content{
  padding:.75rem .75rem;   /* tighter to kill the giant gutters */
  flex:1; overflow-y:auto; overflow-x:hidden;
}

/* TOOL PAGE (kill stacked margins/padding) */
.tool-page{ padding:0; margin:0; text-align:center; }
.tool-page h1{
  font-size:2rem; font-weight:700;
  margin:.5rem 0 .75rem;  /* smaller top/bottom */
  background:var(--accent);
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
}
.subtitle{ font-size:1rem; opacity:.8; margin:0 0 1rem; }

/* GRID SYSTEM */
.tool-grid,.analytics-grid{
  display:grid; grid-template-columns:repeat(2,1fr);
  gap:2rem; margin-top:2rem;
}

/* CARDS */
.status-card,.metric-card{
  padding:1.5rem; border-radius:1rem;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.05);
  box-shadow:0 4px 25px rgba(0,0,0,.25);
  backdrop-filter:blur(10px); transition:all .25s ease;
}
.status-card:hover,.metric-card:hover{
  transform:translateY(-4px);
  border-color:rgba(79,195,247,.35);
  box-shadow:0 6px 30px rgba(79,195,247,.25);
}

/* SECTION WRAPPERS */
.active-tools-section{
  margin-top:1.25rem; padding:1.25rem;
  border-radius:16px; background:rgba(79,195,247,.05);
  border:1px solid rgba(79,195,247,.15);
  box-shadow:inset 0 0 25px rgba(79,195,247,.08);
}
.analytics-section{
  margin-top:2rem; padding:1.25rem;
  border-radius:16px; background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.08);
  box-shadow:inset 0 0 25px rgba(0,0,0,.15);
}

/* IFRAME: no extra margins, fill height under header */
.iframe-tool{
  display:block; width:100%;
  height:calc(100vh - 112px) !important;  /* header + small padding */
  margin:0 auto !important;
  border:none; border-radius:10px;
  background:var(--iframe-bg);
  box-shadow:0 0 15px rgba(0,0,0,.3);
  overflow:auto;
}

/* ===============================
   RESPONSIVE FIXES (FINAL)
   =============================== */

/* Tablet */
@media (max-width:1024px){
  .tool-grid,.analytics-grid{ grid-template-columns:1fr; gap:1.25rem; }
  .status-card,.metric-card{ min-height:200px; padding:1rem; }
  .iframe-tool{ height:calc(100vh - 120px) !important; }
}

/* Mobile: Sidebar overlay, full-width content, tighter spacing */
@media (max-width:768px){
  .sidebar{
    position:fixed; top:0; left:0; height:100%; width:240px;
    transform:translateX(-100%); z-index:300; box-shadow:4px 0 25px rgba(0,0,0,.4);
  }
  .sidebar.open{ transform:translateX(0); }
  .main{ width:100%; margin-left:0 !important; }

  .content{ padding:.5rem .5rem; }
  .tool-page h1{ font-size:1.5rem; margin:.4rem 0 .6rem; }

  .tool-grid,.analytics-grid{ grid-template-columns:1fr; gap:1rem; }
  .status-card,.metric-card{ width:100%; text-align:center; padding:1rem; }

  .iframe-tool{ height:calc(100vh - 104px) !important; border-radius:10px; }

  /* keep header above overlay */
  .header{ z-index:350; }
  .menu-btn{ z-index:400; position:relative; }
}

/* Tiny phones */
@media (max-width:480px){
  .content{ padding:.4rem; }
  .tool-page h1{ font-size:1.35rem; margin:.35rem 0 .5rem; }
  .section-title{ font-size:1.1rem; }
  .iframe-tool{ height:calc(100vh - 96px) !important; }
}

/* Collapsed sidebar icon-only layout (desktop) */
.sidebar.closed .nav-btn{ justify-content:center; padding:.7rem 0; }
.sidebar.closed .nav-btn span{ display:none; }
.sidebar.closed .nav-btn .icon{ margin:0; }
.logo h1,.logo p{ display:none; }
